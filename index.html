<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Plumbing Website Demos</title>
    <link rel="stylesheet" href="gallery/gallery.css" />
  </head>
  <body>
    <header class="hero">
      <div class="container hero-card">
        <div class="hero-content">
          <p class="eyebrow">Plumbing demo gallery</p>
          <h1>Plumbing Website Demos</h1>
          <p class="hero-lead">
            Browse every concept in one place. Scroll inside any thumbnail to preview the full site.
          </p>
        </div>
        <div class="hero-panel">
          <div class="panel-title">Quick tip</div>
          <p>Hover a thumbnail and use your mouse wheel to scroll the screenshot.</p>
        </div>
      </div>
    </header>

    <main class="container">
      <section class="grid" id="demo-grid" aria-live="polite"></section>
      <div class="status" id="status" role="status"></div>
      <noscript class="status">Enable JavaScript to view the gallery cards.</noscript>
    </main>

    <script type="module">
      const grid = document.getElementById('demo-grid');
      const status = document.getElementById('status');
      const path = window.location.pathname || '/';

      const basePath = (() => {
        let base = path.endsWith('/') ? path : path.replace(/[^/]*$/, '');
        if (!base.endsWith('/')) base += '/';
        return base;
      })();

      const toLiveUrl = (slug) => `${basePath}${slug}/`;
      const buildCard = (demo, index) => {
        const card = document.createElement('article');
        card.className = 'card';
        card.style.animationDelay = `${index * 60}ms`;

        const tags = Array.isArray(demo.tags)
          ? demo.tags.map((tag) => `<li class="tag">${tag}</li>`).join('')
          : '';

        card.innerHTML = `
          <div class="card-media">
            <div class="thumb-scroll">
              <img src="${demo.thumb}" alt="${demo.title} thumbnail" loading="lazy" />
            </div>
          </div>
          <h2 class="card-title">${demo.title}</h2>
          <p class="card-desc">${demo.description || ''}</p>
          <ul class="card-tags">${tags}</ul>
          <div class="card-actions">
            <a class="button primary" href="${toLiveUrl(demo.slug)}" target="_blank" rel="noreferrer">Live Demo</a>
          </div>
        `;

        return card;
      };

      fetch('gallery/demos.json', { cache: 'no-store' })
        .then((response) => {
          if (!response.ok) {
            throw new Error(`Unable to load demos.json (${response.status}).`);
          }
          return response.json();
        })
        .then((demos) => {
          grid.innerHTML = '';
          demos.forEach((demo, index) => grid.appendChild(buildCard(demo, index)));
          status.textContent = '';
        })
        .catch((error) => {
          console.error(error);
          status.textContent = 'Unable to load demos. Run a local server (see README) to preview.';
        });
    </script>
  <!-- ThriveDesk Assistant -->
<script>
  (!(function (t, e, n) {
    function s() {
      var t = e.getElementsByTagName("script")[0],
        n = e.createElement("script");
      ((n.type = "text/javascript"),
        (n.async = !0),
        (n.src =
          "https://assistant.thrivedesk.com/bootloader.js?" + Date.now()),
        t.parentNode.insertBefore(n, t));
    }
    if (
      ((t.Assistant = n =
        function (e, n, s) {
          t.Assistant.readyQueue.push({ method: e, options: n, data: s });
        }),
      (n.readyQueue = []),
      "complete" === e.readyState)
    )
      return s();
    t.attachEvent
      ? t.attachEvent("onload", s)
      : t.addEventListener("load", s, !1);
  })(window, document, window.Assistant || function () {}),
    window.Assistant("init", "94e24433-2a22-4d57-ac47-0326fde9cb0d"));
</script>

<!-- /ThriveDesk Assistant -->
<!-- ThriveDesk Prompt -->
<style>
  .td-support-prompt {
    position: fixed;
    right: 24px;
    bottom: 108px;
    z-index: 9999;
    max-width: 280px;
    background: #ffffff;
    border: 1px solid rgba(15, 23, 42, 0.12);
    border-radius: 16px;
    box-shadow: 0 18px 40px rgba(15, 23, 42, 0.18);
    padding: 16px 16px 14px;
    font-family: "Inter", "Segoe UI", system-ui, -apple-system, sans-serif;
    color: #0f172a;
    animation: td-prompt-float 2.8s ease-in-out infinite;
  }

  .td-support-prompt__pulse {
    position: absolute;
    inset: -10px;
    border-radius: 999px;
    border: 2px solid rgba(37, 99, 235, 0.45);
    animation: td-prompt-pulse 2.4s ease-out infinite;
    pointer-events: none;
  }

  .td-support-prompt__header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 8px;
    margin-bottom: 8px;
  }

  .td-support-prompt__title {
    font-size: 14px;
    font-weight: 700;
    margin: 0;
  }

  .td-support-prompt__text {
    font-size: 13px;
    line-height: 1.4;
    margin: 0 0 12px;
    color: #475569;
  }

  .td-support-prompt__actions {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .td-support-prompt__button {
    appearance: none;
    border: none;
    border-radius: 999px;
    padding: 8px 14px;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
  }

  .td-support-prompt__button--primary {
    background: #2563eb;
    color: #ffffff;
  }

  .td-support-prompt__button--ghost {
    background: transparent;
    color: #64748b;
  }

  .td-support-prompt__close {
    appearance: none;
    border: none;
    background: transparent;
    color: #94a3b8;
    font-size: 16px;
    line-height: 1;
    cursor: pointer;
  }

  .td-support-prompt__arrow {
    position: absolute;
    right: 28px;
    bottom: -12px;
    width: 18px;
    height: 18px;
    background: #ffffff;
    border-right: 1px solid rgba(15, 23, 42, 0.12);
    border-bottom: 1px solid rgba(15, 23, 42, 0.12);
    transform: rotate(45deg);
  }

  @keyframes td-prompt-float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-6px); }
  }

  @keyframes td-prompt-pulse {
    0% { transform: scale(0.9); opacity: 0.7; }
    70% { transform: scale(1.08); opacity: 0; }
    100% { opacity: 0; }
  }

  @media (max-width: 640px) {
    .td-support-prompt {
      left: 16px;
      right: 16px;
      bottom: 100px;
      max-width: none;
    }

    .td-support-prompt__arrow {
      right: 36px;
    }
  }
</style>
<div class="td-support-prompt" data-td-support-prompt>
  <div class="td-support-prompt__pulse"></div>
  <div class="td-support-prompt__header">
    <p class="td-support-prompt__title">Need a custom version?</p>
    <button class="td-support-prompt__close" type="button" data-td-support-close aria-label="Dismiss">×</button>
  </div>
  <p class="td-support-prompt__text">Ask us to tailor this demo for your plumbing business. Tap to open chat.</p>
  <div class="td-support-prompt__actions">
    <button class="td-support-prompt__button td-support-prompt__button--primary" type="button" data-td-support-open>Chat now</button>
    <button class="td-support-prompt__button td-support-prompt__button--ghost" type="button" data-td-support-later>Later</button>
  </div>
  <div class="td-support-prompt__arrow"></div>
</div>
<script>
  (function () {
    var key = 'td_support_prompt_seen_v1';
    try {
      if (window.localStorage && window.localStorage.getItem(key)) {
        return;
      }
      if (window.localStorage) {
        window.localStorage.setItem(key, String(Date.now()));
      }
    } catch (e) {
      // Ignore storage errors (private mode, etc.)
    }

    var prompt = document.querySelector('[data-td-support-prompt]');
    if (!prompt) return;

    var removePrompt = function () {
      if (prompt && prompt.parentNode) {
        prompt.parentNode.removeChild(prompt);
      }
    };

    var openAssistant = function () {
      try {
        if (window.Assistant) {
          window.Assistant('open');
          window.Assistant('show');
        }
      } catch (e) {
        // Ignore if API not ready.
      }
    };

    var openButton = prompt.querySelector('[data-td-support-open]');
    var laterButton = prompt.querySelector('[data-td-support-later]');
    var closeButton = prompt.querySelector('[data-td-support-close]');

    if (openButton) {
      openButton.addEventListener('click', function () {
        openAssistant();
        removePrompt();
      });
    }

    if (laterButton) {
      laterButton.addEventListener('click', removePrompt);
    }

    if (closeButton) {
      closeButton.addEventListener('click', removePrompt);
    }

    window.setTimeout(removePrompt, 14000);
  })();
</script>
<!-- /ThriveDesk Prompt -->
</body>
</html>
